---
title: 1. 基本概念与快速开始
date: 2025-12-03 16:01:19
permalink: /llamaindex-basics/
sidebar: true
article: true
author: 
  name: xiao_sl
  link: https://github.com/xiaosl-cell
categories: 
  - 基础知识
  - LlamaIndex
tags: 
  - LlamaIndex
  - RAG
---

## 1.1 基本概念

LlamaIndex（之前被称为 GPT Index）是一个用于构建基于大语言模型（LLM）的信息检索系统的开源框架。核心功能是帮助用户从不同的数据源（如文本文件、数据库、API 等）中快速获取、处理和分析信息，以便于与 LLM 交互时提供上下文和更精确的回答。

**官方文档**：
- Python 文档地址：[https://docs.llamaindex.ai/en/stable/](https://docs.llamaindex.ai/en/stable/)
- Python API 接口文档：[https://docs.llamaindex.ai/en/stable/api_reference/](https://docs.llamaindex.ai/en/stable/api_reference/)

### 核心模块
LlamaIndex工作流程与核心模块如下所示：

![LlamaIndex](https://qiniu.agiadventurer.com/llamaindex-core.png)

### 核心组件

| 组件 | 说明 |
|------|------|
| **Documents** | 数据的容器，包含文本内容和元数据 |
| **Nodes** | 文档的原子单元，是 Document 的分块 |
| **Embeddings** | 文本的向量表示，用于语义相似度计算 |
| **Index** | 组织和存储 Nodes 的数据结构 |
| **Retriever** | 根据查询检索相关 Nodes |
| **Query Engine** | 端到端的问答流程封装 |
| **Response Synthesizer** | 将检索结果合成最终回答 |

## 1.2 快速开始

### 安装

```bash
pip install llama-index
```

LlamaIndex 默认使用 OpenAI 的模型，需要配置环境变量：

```bash
export OPENAI_API_KEY="your-api-key"
```

Windows PowerShell：
```powershell
$env:OPENAI_API_KEY="your-api-key"
```

### 五行代码实现 RAG

先试一下 LlamaIndex 官网的示例，只需要五行代码即可实现一个完整的 RAG 系统：

```python
from llama_index.core import VectorStoreIndex, SimpleDirectoryReader

# 1. 加载文档
documents = SimpleDirectoryReader("data").load_data()
# 2. 构建索引
index = VectorStoreIndex.from_documents(documents)
# 3. 创建查询引擎
query_engine = index.as_query_engine()
# 4. 执行查询
response = query_engine.query("Llama 2有多少参数?")
print(response)
```
